(this["webpackJsonpwould-you-rather"]=this["webpackJsonpwould-you-rather"]||[]).push([[0],{14:function(e,t,n){e.exports={Header:"Header_Header__3p4Zx",Leaderboard:"Header_Leaderboard__1TgUt",Logo:"Header_Logo__e40X6",Logout:"Header_Logout__Ku49w",NameContainer:"Header_NameContainer__3Kko3",Name:"Header_Name___Gu5T",Link:"Header_Link__lG4w2",image:"Header_image__vgnEN"}},16:function(e,t,n){e.exports={Card:"LeaderBoard_Card__3TPUf",header:"LeaderBoard_header__1FU67",image:"LeaderBoard_image__3Vj7z",text:"LeaderBoard_text__3rTFm",score:"LeaderBoard_score__1e331",center:"LeaderBoard_center__-WTQx",name:"LeaderBoard_name__1wO6l",asked:"LeaderBoard_asked__3RTJJ",answered:"LeaderBoard_answered__341cV"}},19:function(e,t,n){e.exports={Container:"AddQuestion_Container__2ymNq",Input:"AddQuestion_Input__3e0H_",Submit:"AddQuestion_Submit__2v47k",Title:"AddQuestion_Title__2J8SY"}},20:function(e,t,n){e.exports={fab:"Main_fab__328o0",container:"Main_container__1X6aF",Link:"Main_Link__1pIhS"}},25:function(e,t,n){e.exports={Container:"Login_Container__3uvfG",name:"Login_name__qYiaU",image:"Login_image__CdIwz",Link:"Login_Link__39OqP"}},26:function(e,t,n){e.exports={container:"QuestionCard_container__1mHbY",content:"QuestionCard_content__b_yhT",Link:"QuestionCard_Link__1tT4q"}},31:function(e,t,n){e.exports={notfound:"NotFound_notfound__3XVAT"}},36:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(22),s=n.n(o),i=(n(36),n(4)),c=n(2),u=n(6),d=n(5),j=n(13),l=n(24),b=n(19),m=n.n(b),h=n(7),p=n.n(h),O=n(15),x=n(17),f=Object(x.b)({name:"questions",initialState:{questions:{}},reducers:{addNewQuestionToQuestion:function(e,t){var n={id:t.payload.id,author:t.payload.author,timestamp:t.payload.timestamp,optionOne:{votes:[],text:t.payload.optionOne.text},optionTwo:{votes:[],text:t.payload.optionTwo.text}};e.questions[t.payload.id]=n},initilizeData:function(e,t){e.questions=t.payload}}}),v=f.actions,_=f,w=Object(x.b)({name:"users",initialState:{users:{}},reducers:{addQuestionToUser:function(e,t){e.users[t.payload.author].questions.push(t.payload.id)},initilizeData:function(e,t){e.users=t.payload},addAnswerToUser:function(e,t){var n=t.payload.authedUser,a=t.payload.qid,r=t.payload.answer;e.users[n].answers[a]=r}}}),g=w.actions,y=w,T={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://robohash.org/THJ.png?set=set2&size=150x150",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://robohash.org/8VR.png?set=set2&size=150x150",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://robohash.org/KRC.png?set=set2&size=150x150",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},N={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function k(e){return new Promise((function(t,n){var a=e.author,r=function(e){var t=e.optionOneText,n=e.optionTwoText,a=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:a,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:n}}}(e);setTimeout((function(){N=Object(i.a)(Object(i.a)({},N),{},Object(j.a)({},r.id,r)),T=Object(i.a)(Object(i.a)({},T),{},Object(j.a)({},a,Object(i.a)(Object(i.a)({},T[a]),{},{questions:T[a].questions.concat([r.id])}))),t(r)}),1e3)}))}function L(e){var t=e.authedUser,n=e.qid,a=e.answer;return new Promise((function(e,r){setTimeout((function(){T=Object(i.a)(Object(i.a)({},T),{},Object(j.a)({},t,Object(i.a)(Object(i.a)({},T[t]),{},{answers:Object(i.a)(Object(i.a)({},T[t].answers),{},Object(j.a)({},n,a))}))),N=Object(i.a)(Object(i.a)({},N),{},Object(j.a)({},n,Object(i.a)(Object(i.a)({},N[n]),{},Object(j.a)({},a,Object(i.a)(Object(i.a)({},N[n][a]),{},{votes:N[n][a].votes.concat([t])}))))),e()}),500)}))}var q=n(0),U=function(e){var t=Object(c.c)((function(e){return e.authUser.authUser})),n=Object(d.g)(),r=Object(a.useState)({author:t,optionOneText:"",optionTwoText:""}),o=Object(l.a)(r,2),s=o[0],b=o[1],h=Object(c.b)();if(""===t)return Object(q.jsx)(d.a,{to:{pathname:"/login",state:{referrer:n.pathname}}});var x=function(e){var t=e.target,n=t.name,a=t.value;b((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(j.a)({},n,a))}))};return Object(q.jsxs)("div",{className:m.a.Container,children:[Object(q.jsx)("h3",{className:m.a.Title,children:"Add New Question"}),Object(q.jsxs)("form",{children:[Object(q.jsx)("div",{children:Object(q.jsx)("input",{className:m.a.Input,type:"text",name:"optionOneText",placeholder:"Option One",value:s.optionOneText,onChange:x})}),Object(q.jsx)("div",{children:Object(q.jsx)("input",{className:m.a.Input,type:"text",name:"optionTwoText",placeholder:"Option Two",value:s.optionTwoText,onChange:x})}),Object(q.jsx)(u.b,{to:"/",children:Object(q.jsx)("input",{disabled:""===s.optionOneText||""===s.optionTwoText,className:m.a.Submit,type:"submit",onClick:function(){var e;return h((e=s,function(){var t=Object(O.a)(p.a.mark((function t(n){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(){var t=Object(O.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.prev=1,t.next=4,a();case 4:r=t.sent,n(v.addNewQuestionToQuestion(r)),n(g.addQuestionToUser(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("Something went wrong");case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}())),b({author:"",optionOneText:"",optionTwoText:""}),Object(q.jsx)(d.a,{to:"/"})}})})]})]})},C=n(16),Q=n.n(C),z=function(){var e=Object(c.c)((function(e){return e.users.users})),t=Object.values(e).map((function(e){var t=e.questions.length,n=Object.keys(e.answers).length,a=t+n;return[e.id,a,t,n]}));return t.sort((function(e,t){return t[1]-e[1]})),Object(q.jsxs)("div",{children:[Object(q.jsx)("h2",{className:Q.a.header,children:"LEADER BOARD"}),t.map((function(t){return Object(q.jsxs)("div",{className:Q.a.Card,children:[Object(q.jsx)("img",{className:Q.a.image,src:e[t[0]].avatarURL,alt:"User Avatar"}),Object(q.jsxs)("div",{className:Q.a.text,children:[Object(q.jsx)("div",{className:Q.a.name,children:e[t[0]].name}),Object(q.jsxs)("div",{className:Q.a.asked,children:["Asked : ",t[2]]}),Object(q.jsxs)("div",{className:Q.a.answered,children:["Answered : ",t[3]]})]}),Object(q.jsx)("div",{className:Q.a.score,children:Object(q.jsx)("div",{className:Q.a.center,children:t[1]})})]},t[0])}))]})},D=n(25),A=n.n(D),S=Object(x.b)({name:"authUser",initialState:{authUser:""},reducers:{Login:function(e,t){e.authUser=t.payload},Logout:function(e){e.authUser=""}}}),H=S.actions,B=S,P=function(e){var t=Object(c.c)((function(e){return e.users.users})),n=Object(c.c)((function(e){return e.authUser.authUser})),a=Object(c.b)();return""===n?Object(q.jsxs)("div",{children:[Object(q.jsx)("h2",{children:"Please login"}),t&&Object.values(t).map((function(e){return Object(q.jsxs)("div",{className:A.a.Container,onClick:function(){return t=e.id,void a(H.Login(t));var t},children:[Object(q.jsx)("img",{className:A.a.image,src:e.avatarURL,alt:"User Avatar"}),Object(q.jsx)("div",{className:A.a.name,children:e.name})]},e.id)}))]}):Object(q.jsx)(d.a,{to:e.location.state.referrer})},R=n(20),F=n.n(R),I=n(26),E=n.n(I),M=function(e){var t=e.user,n=e.optionOne;return Object(q.jsxs)("div",{className:E.a.container,children:[Object(q.jsxs)("div",{className:E.a.content,children:[t," ask, would you rather"]}),Object(q.jsx)("br",{}),Object(q.jsxs)("div",{className:E.a.content,children:[n," Or ..."]})]})},J=function(){var e=Object(c.c)((function(e){return e.users.users})),t=Object(c.c)((function(e){return e.authUser.authUser})),n=Object(c.c)((function(e){return e.questions.questions})),a=Object(d.g)();if(""===t)return Object(q.jsx)(d.a,{to:{pathname:"/login",state:{referrer:a.pathname}}});var r=Object.keys(e[t].answers).map((function(e){return n[e]}));r.sort((function(e,t){return new Date(t.timestamp)-new Date(e.timestamp)}));var o=Object.keys(n).map((function(e){return n[e]})).filter((function(e){return!r.find((function(t){return t===e}))}));return o.sort((function(e,t){return new Date(t.timestamp)-new Date(e.timestamp)})),Object(q.jsxs)("div",{children:[Object(q.jsxs)("div",{className:F.a.container,children:[Object(q.jsx)("h2",{children:"Not Answer"}),o.map((function(t){return Object(q.jsx)(u.b,{className:F.a.Link,to:{pathname:"/questions/".concat(t.id),voted:"false"},children:Object(q.jsx)(M,{user:e[n[t.id].author].name,optionOne:n[t.id].optionOne.text,optionTwo:n[t.id].optionTwo.text})},t.id)}))]}),Object(q.jsxs)("div",{className:F.a.container,children:[Object(q.jsx)("h2",{children:"Answered"}),r.map((function(t){return Object(q.jsx)(u.b,{className:F.a.Link,to:{pathname:"/questions/".concat(t.id),voted:"true"},children:Object(q.jsx)(M,{user:e[n[t.id].author].name,optionOne:n[t.id].optionOne.text,optionTwo:n[t.id].optionTwo.text})},t.id)}))]}),Object(q.jsx)(u.b,{to:"/add",children:Object(q.jsx)("button",{className:F.a.fab,children:"+"})})]})},K=n(31),G=n.n(K),V=function(){var e=Object(c.c)((function(e){return e.authUser.authUser})),t=Object(d.g)();return""===e?Object(q.jsx)(d.a,{to:{pathname:"/login",state:{referrer:t.pathname}}}):Object(q.jsx)("div",{className:G.a.notfound,children:"NOT FOUND"})},X=n(8),Y=n.n(X),W=function(){var e=Object(d.h)().question_id,t=Object(d.g)(),n=Object(d.g)().voted,r=Object(c.c)((function(e){return e.users.users})),o=Object(c.c)((function(e){return e.questions.questions})),s=Object(c.c)((function(e){return e.authUser.authUser})),i=Object(c.b)(),u=Object(a.useState)(""),j=Object(l.a)(u,2),b=j[0],m=j[1];if(""===s)return Object(q.jsx)(d.a,{to:{pathname:"/login",state:{referrer:t.pathname}}});if(void 0===Object.keys(o).find((function(t){return t===e})))return Object(q.jsx)(d.a,{to:{pathname:"/notfound",state:{referrer:t.pathname}}});var h=o[e].author,x=function(e){var t=e.target.value;m(t)},f=Object.values(r).map((function(t){var n=Object(t.answers);if(n.hasOwnProperty(e)){var a=[];return a.push(t.id,n[e]),a}return null})).filter((function(e){return e})),v="",_=0,w=0;return void 0===n&&(n="false"),f.forEach((function(e){e[0]===s?(n="true","optionOne"===e[1]?(v="optionOne",_++):(v="optionTwo",w++)):"optionOne"===e[1]?_++:w++})),Object(q.jsxs)("div",{children:[Object(q.jsx)("h2",{children:"Question Detail"}),Object(q.jsxs)("div",{className:Y.a.Card,children:[Object(q.jsxs)("div",{className:Y.a.top,children:[Object(q.jsx)("img",{className:Y.a.image,src:r[h].avatarURL,alt:"User Avatar"}),Object(q.jsxs)("div",{className:Y.a.name,children:[Object(q.jsx)("div",{children:r[h].name}),Object(q.jsx)("div",{children:"Would you rather"})]}),"true"===n?Object(q.jsx)("div",{className:Y.a.voted,children:"Voted"}):null]}),Object(q.jsxs)("form",{className:Y.a.form,children:[Object(q.jsxs)("div",{className:Y.a.formcheck,children:[Object(q.jsxs)("label",{className:Y.a.label,children:[Object(q.jsx)("input",{defaultChecked:"true"===n&&"optionOne"===v,disabled:"true"===n,type:"radio",name:"option",className:Y.a.formInput,value:"optionOne",onChange:x}),o[e].optionOne.text]}),"true"===n?Object(q.jsxs)("p",{className:Y.a.votePercent,children:[_,"/",_+w," voted,"," ",(_/(_+w)*100).toFixed(2),"%"]}):null]}),Object(q.jsxs)("div",{className:Y.a.formcheck,children:[Object(q.jsxs)("label",{className:Y.a.label,children:[Object(q.jsx)("input",{defaultChecked:"true"===n&&"optionTwo"===v,disabled:"true"===n,type:"radio",name:"option",className:Y.a.formInput,value:"optionTwo",onChange:x}),o[e].optionTwo.text]}),"true"===n?Object(q.jsxs)("p",{className:Y.a.votePercent,children:[w,"/",_+w," voted,"," ",(w/(_+w)*100).toFixed(2),"%"]}):null]})]}),Object(q.jsx)("div",{children:"false"===n?Object(q.jsx)("input",{disabled:""===b,className:Y.a.submit,type:"submit",onClick:function(t){t.preventDefault(),i(function(e,t,n){return function(){var a=Object(O.a)(p.a.mark((function a(r){var o;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=function(){var a=Object(O.a)(p.a.mark((function a(){return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L({authedUser:e,qid:t,answer:n});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),a.prev=1,a.next=4,o();case 4:r(g.addAnswerToUser({authedUser:e,qid:t,answer:n})),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),console.log("Something went wrong");case 10:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()}(s,e,b)),m(""),v=b}}):null})]})]})},Z=n(14),$=n.n(Z),ee=function(){var e=Object(c.c)((function(e){return e.authUser.authUser})),t=Object(c.c)((function(e){return e.users.users})),n=Object(c.b)();return Object(q.jsxs)("div",{className:$.a.Header,children:[Object(q.jsx)(u.b,{className:$.a.Link,to:"/",children:Object(q.jsx)("div",{className:$.a.Logo,children:"HOME"})}),Object(q.jsx)(u.b,{to:"/leaderboard",className:$.a.Link,children:Object(q.jsx)("div",{className:$.a.Leaderboard,children:Object(q.jsx)("div",{children:"Leader Board"})})}),e&&Object(q.jsxs)("div",{className:$.a.NameContainer,children:[Object(q.jsx)("img",{className:$.a.image,src:t[e].avatarURL,alt:"User Avatar"}),Object(q.jsx)("div",{className:$.a.Name,children:t[e].name})]}),Object(q.jsx)(u.b,{className:$.a.Link,to:"/",children:e&&Object(q.jsx)("div",{className:$.a.Logout,onClick:function(){n(H.Logout())},children:"Logout"})})]})},te=function(){var e=Object(c.b)();return Object(a.useEffect)((function(){e(function(){var e=Object(O.a)(p.a.mark((function e(t){var n,a,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=Object(O.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){setTimeout((function(){return e(Object(i.a)({},N))}),1e3)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(O.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){setTimeout((function(){return e(Object(i.a)({},T))}),1e3)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,a();case 5:return r=e.sent,e.next=8,n();case 8:o=e.sent,t(v.initilizeData(o)),t(g.initilizeData(r)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log("Something went wrong");case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(q.jsx)(u.a,{basename:"/Would-you-rather",children:Object(q.jsxs)("div",{className:"App",children:[Object(q.jsx)(ee,{}),Object(q.jsxs)(d.d,{children:[Object(q.jsx)(d.b,{exact:!0,path:"/",children:Object(q.jsx)(J,{})}),Object(q.jsx)(d.b,{exact:!0,path:"/login",render:function(e){return Object(q.jsx)(P,Object(i.a)({},e))}}),Object(q.jsx)(d.b,{path:"/leaderboard",children:Object(q.jsx)(z,{})}),Object(q.jsx)(d.b,{path:"/add",children:Object(q.jsx)(U,{})}),Object(q.jsx)(d.b,{path:"/questions/:question_id",children:Object(q.jsx)(W,{})}),Object(q.jsx)(d.b,{path:"*",children:Object(q.jsx)(V,{})})]})]})})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),o(e),s(e)}))},ae=Object(x.a)({reducer:{users:y.reducer,authUser:B.reducer,questions:_.reducer}});s.a.render(Object(q.jsx)(c.a,{store:ae,children:Object(q.jsx)(r.a.StrictMode,{children:Object(q.jsx)(u.a,{children:Object(q.jsx)(te,{})})})}),document.getElementById("root")),ne()},8:function(e,t,n){e.exports={Card:"QuestionDetail_Card__RwNMA",top:"QuestionDetail_top__3cvbZ",image:"QuestionDetail_image__3GcEK",name:"QuestionDetail_name__uZWQi",voted:"QuestionDetail_voted__EK09O",form:"QuestionDetail_form__19tld",formcheck:"QuestionDetail_formcheck__2eQ2X",label:"QuestionDetail_label__3Yvrf",votePercent:"QuestionDetail_votePercent__XiBY6",submit:"QuestionDetail_submit__t5wKI"}}},[[44,1,2]]]);
//# sourceMappingURL=main.785075dd.chunk.js.map